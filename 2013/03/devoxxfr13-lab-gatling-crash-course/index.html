
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Devoxx France 2013 # Lab # Gatling Crash Course - Rossi Oddet</title>
  <meta name="author" content="Rossi Oddet">

  
  <meta name="description" content="Vous pouvez retrouvez la description de la session sur le site de devoxx. Les animateurs Pierre Dal-pra (à gauche) @pierre_dalpra / Bio
Stéphane &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://roddet.github.com/2013/03/devoxxfr13-lab-gatling-crash-course">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Rossi Oddet" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-32190657-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>	
  <h1><a href="/">Rossi Oddet</a></h1>
  
    <h2>Blog d'un artisan développeur</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:roddet.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/events">Evénements</a></li>
  <li><a href="/viededev">Vie de Développeur</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Devoxx France 2013 # Lab # Gatling Crash Course</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-30T20:00:00-04:00" pubdate data-updated="true">Mar 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Vous pouvez retrouvez la description de la session <a href="http://www.devoxx.com/display/FR13/Gatling+Crash+Course">sur le site de devoxx</a>.</p>

<p><img class="center" src="http://blog.roddet.com/images/devoxx_gatling/slide.jpg"></p>

<h2>Les animateurs</h2>

<p><img class="center" src="http://blog.roddet.com/images/devoxx_gatling/stephane_pierre.jpg"></p>

<ul>
<li>Pierre Dal-pra (à gauche) <a href="https://twitter.com/pierre_dalpra">@pierre_dalpra</a> / <a href="http://www.devoxx.com/display/FR13/Pierre+Dal-pra">Bio</a></li>
<li>Stéphane Landelle (à droite) <a href="https://twitter.com/slandelle">@slandelle</a> / <a href="http://www.devoxx.com/display/FR13/Stephane+Landelle">Bio</a></li>
</ul>


<h2>Pourquoi j&#8217;ai choisi cette session ?</h2>

<p><a href="http://gatling-tool.org/">Gatling</a> est un outil permettant de faire des tests de charge à base de scripts écrits en scala. Je l&#8217;avais découvert l&#8217;année dernière et j&#8217;avais écrit un article à ce sujet <a href="/2012/05/gatling-integration-maven-eclipse/">ici</a>. C&#8217;est donc naturellement que j&#8217;ai choisi d&#8217;être présent au Lab &#8220;Gatling Crash Course&#8221; pour expérimenter les nouveautés de l&#8217;outil.</p>

<h2>Démarrage de la session</h2>

<p>10 min avant le début du lab, les organisateurs de Devoxx procède à un changement de salle car le lab Java EE 7 rencontre un franc succès.
Nous sommes donc emmener dans une salle de 24 places qui sera comble.</p>

<p>Les intervenants nous ont fournis une clé USB contenant :</p>

<ul>
<li>Une VM (Virtual Box)</li>
<li>Les archives d&#8217;installation de Virtual Box pour Linux, Mac et Windows</li>
<li>La version 1.4.6 de Gatling sortie la veille</li>
<li>Une archive de PlayFramework 2.1.0</li>
<li>Une archive gatling-cheat-sheet (une documentation technique de l&#8217;API Gatling)</li>
</ul>


<p>Certains participants ont eu des difficultés d&#8217;installation de Virtual Box ou de configuration de la VM&#8230; Ils étaient majoritairement sous Windows, on conviendra qu&#8217;il s&#8217;agit d&#8217;une coincidence :)</p>

<h2>C&#8217;est quoi Gatling ?</h2>

<p>La session a commencé par une présentation de Gatling par Stéphane Landelle.
Il définit &#8220;Gatling&#8221; comme un injecteur de charge.</p>

<h2>Les différentes familles d&#8217;injecteur ?</h2>

<p>Il y a évidemment des solutions concurrentes dans ce créneau parmi lesquelles :</p>

<ul>
<li><a href="http://jmeter.apache.org/">JMeter</a></li>
<li><a href="http://grinder.sourceforge.net/">The Grinder</a></li>
<li><a href="http://grinder.sourceforge.net/">Tsung</a></li>
<li><a href="http://www.loadui.org/">LoadUI</a></li>
<li><a href="http://www8.hp.com/us/en/software-solutions/software.html?compURI=1175451#.UVcAhasjo08">LoadRunner</a></li>
<li><a href="http://www.neotys.fr/product/overview-neoload.html">NeoLoad</a></li>
</ul>


<p>On peut distinguer 2 familles dans ces outils :</p>

<ul>
<li>ceux basés sur des interfaces graphiques : JMeter, LoadUI&#8230;</li>
<li>ceux basés sur l&#8217;écriture des scripts : Tsung, The Grinder&#8230;</li>
</ul>


<p>Gatling se positionne quand à lui dans la famille des injecteurs de charge basés sur l&#8217;écriture des scripts.</p>

<p>Les animateurs vont citer <a href="http://tsung.erlang-projects.org/">Tsung</a> comme outil proche de Gatling dans sa philosophie. L&#8217;inconvénient de Tsung est l&#8217;utilisation du langage Erlang qui n&#8217;est pas très intuitif pour les développeurs venant du monde Java.</p>

<h2>Le problème de performance des certains concurrents</h2>

<p>La plupart des solutions concurrentes nécessitent beaucoup de ressources pour exécuter des tests de charge. Il est arrivé à Stéphane par exemple d&#8217;avoir à monter un cluster d&#8217;injecteurs de taille comparable à celle de l&#8217;application en production.</p>

<p>Le manque de performance de certains de ces outils est dû au modèle :
1 user = 1 thread (ce choix permet de gérer plus facilement la concurrence avec par exemple à l&#8217;utilisation des ThreadLocal).
Seulement 1 thread c&#8217;est couteux et l&#8217;orchestratreur doit jongler entre les threads pour accorder du CPU.</p>

<p>Certaines solutions s&#8217;appuient sur des I/0 bloquants. Cela implique que
lorsqu&#8217;une requête est envoyée à un serveur, le thread attend la réponse sans faire autre chose. L&#8217;utilisation des ressources n&#8217;est ainsi pas optimisée.</p>

<h2>Scripts vs Interface graphique</h2>

<p>Les animateurs définissent le travail de testeur de charge comme étant un &#8220;job de développeur&#8221;. Et surtout, pour avoir une pertinence suffisante, ce développeur doit avoir participé au développement de l&#8217;application à tester.</p>

<p>Avec une interface graphique, le développeur est vite limité dans l&#8217;utilisation de l&#8217;outil.</p>

<p>Avoir la main sur le script permet d&#8217;avoir une meilleure maintenabilité des tests. En effet, les injecteurs à interface graphique propose généralement des exports de configuration (plusieurs MB en XML à stocker sur le disque) plus difficile à maintenir et à utiliser à plusieurs.</p>

<h2>Pourquoi Gatling est performant ?</h2>

<p>Gatling doit sa performance à 2 volets :</p>

<ul>
<li>des requêtes non bloquantes grâce à <a href="https://github.com/AsyncHttpClient/async-http-client">Async HTTP Client</a> utilisant le moteur <a href="http://netty.io/">Netty</a></li>
<li>des traitements parallèles en se basant sur le modèle des acteurs et <a href="http://akka.io/">Akka</a>.</li>
</ul>


<h2>Le DSL Gatling</h2>

<p>Gatling expose un DSL riche et facile à prendre en main.</p>

<p>Vous pouvez consulter les éléments du DSL dans le <a href="http://gatling-tool.org/cheat-sheet/">Gatling&#8217;s Cheat Sheet</a>.</p>

<h2>Le lab</h2>

<p>La session a consister à effectuer un test de charge sur une des applications exemple contenu dans l&#8217;archive PlayFramework 2.1.0 : computer-database.</p>

<p><img class="center" src="http://blog.roddet.com/images/devoxx_gatling/play2app.jpg"></p>

<h3>Etape 1 : Démarrer l&#8217;application à tester</h3>

<p>Se placer dans le répertoire &#8220;play-2.1.0/samples/scala/computer-database&#8221; et lancer la commande :</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>play</span></code></pre></td></tr></table></div></figure>


<p>Puis démarrer l&#8217;application.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>start -DapplyEvolutions.default=true</span></code></pre></td></tr></table></div></figure>


<p>&#8220;-DapplyEvolutions.default=true&#8221; permet d&#8217;appliquer les modifications de base de données au démarrage de l&#8217;application.</p>

<p>A ce stade pour certains participants, play demandait à télécharger des packages. Il me semblait pourtant que l&#8217;archive play étant autoportante. Je n&#8217;ai pas eu le problème.</p>

<h3>Etape 2 : Enregistrement d&#8217;un scénario grâce au &#8220;recorder&#8221;</h3>

<p>Pour éviter de partir de 0 lors de l&#8217;écriture d&#8217;un script, Gatling vient avec un recorder (enregistreur de scénario). Il est accessible via le lancement de l&#8217;exécutable &#8220;GATLING_HOME/bin/recorder.sh&#8221; (remplacer .sh par .bat pour Windows).</p>

<p><img class="center" src="http://blog.roddet.com/images/devoxx_gatling/recorder.jpg"></p>

<p>Nous avons configuré le recorder pour écarter les ressources statiques (.css, .js, .ico) pour ne tester que la partie dynamique de l&#8217;application.</p>

<p>Il faut configurer le proxy de votre navigateur avec les informations saisies dans la partie Network du recorder.</p>

<p>Le scénario enregistré :</p>

<ul>
<li>Recherche d&#8217;un ordinateur</li>
<li>Consultation d&#8217;un ordinateur</li>
<li>Navigation à travers les différentes pages de résultats</li>
<li>Création d&#8217;un ordinateur</li>
</ul>


<p>A savoir sur le recorder : il n&#8217;est pas possible de poursuivre un scénario enregistré précedemment. Chaque enregistrement génère un fichier complet.</p>

<p>Durant l&#8217;enregistrement, il est possible d&#8217;ajouter des &#8220;tags&#8221; qui vont se traduire en commentaire dans le script généré.</p>

<h3>Etape 3 : Configuration du WarmUp</h3>

<p>Au démarrage de l&#8217;exécution d&#8217;un scénario, Gatling envoie une première requete (warmup) pour charger les classes, le moteur TCP etc&#8230;
On peut désactiver cette requête ou changer l&#8217;url. Dans le cadre de ce lab, nous avons changer l&#8217;URL en http://localhost:9000.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'>  <span class="k">val</span> <span class="n">httpConf</span> <span class="k">=</span> <span class="n">httpConfig</span>
</span><span class='line'>    <span class="o">.</span><span class="n">baseURL</span><span class="o">(</span><span class="s">&quot;http://localhost:9000&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptHeader</span><span class="o">(</span><span class="s">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptCharsetHeader</span><span class="o">(</span><span class="s">&quot;ISO-8859-1,utf-8;q=0.7,*;q=0.3&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptEncodingHeader</span><span class="o">(</span><span class="s">&quot;gzip,deflate,sdch&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptLanguageHeader</span><span class="o">(</span><span class="s">&quot;en-US,en;q=0.8&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">warmUp</span><span class="o">(</span><span class="s">&quot;http://localhost:9000&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Attention à ne pas supprimer les headers. Cela peut avoir une influence le réseau (taille des requêtes inférieure à la réalité) et le comportement de l&#8217;application peut être différent.</p>

<p>Gatling vérifie automatiquement pour chaque requête que le code de la réponse est compris entre  200 à 210.</p>

<h3>Etape 4 : Configuration d&#8217;une source de données</h3>

<p>Il est important de faire varier ses données pour avoir des tests fiables. Gatling permet de configurer une source de données grâce à la notion de feeder.</p>

<p>Les fichiers de données sont des fichiers CSV à placer dans le répertoire &#8220;GATLING_HOME/user-files/data&#8221;.</p>

<p>Exemple de fichier CSV</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">searchCriterion</span><span class="o">,</span><span class="n">searchComputerName</span>
</span><span class='line'><span class="nc">Macbook</span><span class="o">,</span><span class="nc">MacBook</span> <span class="nc">Pro</span>
</span><span class='line'><span class="n">eee</span><span class="o">,</span> <span class="nc">ASUS</span> <span class="nc">Eee</span> <span class="nc">PC</span> <span class="mi">1005</span><span class="nc">PE</span>
</span></code></pre></td></tr></table></div></figure>


<p>La première ligne représente l&#8217;entête du fichier.</p>

<p>Créer un feeder :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'>  <span class="k">val</span> <span class="n">feeder</span> <span class="k">=</span> <span class="n">csv</span><span class="o">(</span><span class="s">&quot;search.csv&quot;</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Par défaut le feeder est une queue, le scénario consomme les données (lignes) les unes après les autres. Et si toute la pile est consommée et que le scénario souhaite une donnée supplémentaire, une erreur est lancée.</p>

<p>Il est possible de configurer le feeder pour la consommation des données soient :</p>

<ul>
<li>aléatoire</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">feeder</span> <span class="k">=</span> <span class="n">csv</span><span class="o">(</span><span class="s">&quot;search.csv&quot;</span><span class="o">).</span><span class="n">random</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>circulaire (après la consommation de la dernière ligne, on reprend la première)</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">feeder</span> <span class="k">=</span> <span class="n">csv</span><span class="o">(</span><span class="s">&quot;search.csv&quot;</span><span class="o">).</span><span class="n">circular</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pour attacher un feeder à une exécution :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Home&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">feed</span><span class="o">(</span><span class="n">feeder</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Il est possible d&#8217;appliquer une transformation au feeder pour formater les données.</p>

<p>Voici un exemple d&#8217;utilisation des valeurs contenues dans le feeder</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Home&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">))</span>
</span><span class='line'>  <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">feed</span><span class="o">(</span><span class="n">feeder</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Search&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/computers&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">queryParam</span><span class="o">(</span><span class="s">&quot;&quot;&quot;f&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;${searchCriterion}&quot;&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">check</span><span class="o">(</span><span class="n">regex</span><span class="o">(</span><span class="s">&quot;&quot;&quot;&lt;a href=&quot;([^&quot;]+)&quot;&gt;${searchComputerName}&lt;/a&gt;&quot;&quot;&quot;</span><span class="o">).</span><span class="n">saveAs</span><span class="o">(</span><span class="s">&quot;url&quot;</span><span class="o">))</span>
</span><span class='line'>  <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>  <span class="o">.</span><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Select&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;${url}&quot;</span><span class="o">).</span><span class="n">check</span><span class="o">(</span><span class="nc">Status</span><span class="o">.</span><span class="n">is</span><span class="o">(</span><span class="mi">200</span><span class="o">)))</span>
</span><span class='line'>  <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>${searchCriterion} représente la première colonne du fichier CSV.</p>

<p>${searchComputerName} représente la seconde colonne</p>

<p>La méthode .saveAs permet de sauvegarder dans une variable un résultat.</p>

<p>Le fichier CSV est chargée intégralement en mémoire au démarrage de l&#8217;exécution des tests.</p>

<h3>Etape 5 : Factorisation</h3>

<p>Un script Gatling n&#8217;est pas autre chose qu&#8217;un programme Scala. On peut donc aisément créer des méthodes et factoriser les opérations que l&#8217;on fait plusieurs fois.</p>

<p>Exemple de factorisation :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'> <span class="k">def</span> <span class="n">gotoPage</span><span class="o">(</span><span class="n">page</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Page &quot;</span> <span class="o">+</span> <span class="n">page</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/computers&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">queryParam</span><span class="o">(</span><span class="s">&quot;&quot;&quot;p&quot;&quot;&quot;</span><span class="o">,</span> <span class="n">page</span><span class="o">))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">browse</span> <span class="k">=</span> <span class="n">exec</span><span class="o">(</span><span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;0&quot;</span><span class="o">),</span><span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;1&quot;</span><span class="o">),</span><span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;2&quot;</span><span class="o">),</span><span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;3&quot;</span><span class="o">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Il est aussi possible d&#8217;utiliser des fonctions avancées comme &#8220;repeat&#8221; pour répéter des traitements.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">val</span> <span class="n">browse</span> <span class="k">=</span> <span class="n">repeat</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="s">&quot;i&quot;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;${i}&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Etape 6 : Activation de graphite</h3>

<p>Pour activer le suivi de l&#8217;exécution avec Graphite, il faut modifier le fichier de configuration &#8220;GATLING_HOME/conf/gatling.conf&#8221;</p>

<p>gatling.conf</p>

<figure class='code'><figcaption><span>GATLING_HOME/conf/gatling.conf</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="n">gatling</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">data</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">writers</span> <span class="k">=</span> <span class="o">[</span><span class="kt">console</span>, <span class="kt">file</span>, <span class="kt">graphite</span><span class="o">]</span>
</span><span class='line'>    <span class="k">#</span><span class="n">reader</span> <span class="k">=</span> <span class="n">file</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="n">graphite</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">host</span> <span class="k">=</span> <span class="s">&quot;localhost&quot;</span>
</span><span class='line'>    <span class="n">port</span> <span class="k">=</span> <span class="mi">2003</span>
</span><span class='line'>    <span class="n">rootPathPrefix</span> <span class="k">=</span> <span class="s">&quot;gatling&quot;</span>
</span><span class='line'>    <span class="n">bucketWidth</span> <span class="k">=</span> <span class="mi">100</span>
</span><span class='line'>  <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Etape 7 : Le script complet</h3>

<figure class='code'><figcaption><span>ComputersDatabase.scala</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">package</span> <span class="nn">devoxx.labs</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.excilys.ebi.gatling.core.Predef._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.excilys.ebi.gatling.http.Predef._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.excilys.ebi.gatling.jdbc.Predef._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">com.excilys.ebi.gatling.http.Headers.Names._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">akka.util.duration._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">bootstrap._</span>
</span><span class='line'><span class="k">import</span> <span class="nn">assertions._</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Search</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">feeder</span> <span class="k">=</span> <span class="n">csv</span><span class="o">(</span><span class="s">&quot;search.csv&quot;</span><span class="o">).</span><span class="n">circular</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">search</span> <span class="k">=</span> <span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Home&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">feed</span><span class="o">(</span><span class="n">feeder</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Search&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/computers&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">queryParam</span><span class="o">(</span><span class="s">&quot;&quot;&quot;f&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;${searchCriterion}&quot;&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">check</span><span class="o">(</span><span class="n">regex</span><span class="o">(</span><span class="s">&quot;&quot;&quot;&lt;a href=&quot;([^&quot;]+)&quot;&gt;${searchComputerName}&lt;/a&gt;&quot;&quot;&quot;</span><span class="o">).</span><span class="n">saveAs</span><span class="o">(</span><span class="s">&quot;url&quot;</span><span class="o">)))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Select&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;${url}&quot;</span><span class="o">).</span><span class="n">check</span><span class="o">(</span><span class="n">status</span><span class="o">.</span><span class="n">is</span><span class="o">(</span><span class="mi">200</span><span class="o">)))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Browse</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="n">gotoPage</span><span class="o">(</span><span class="n">page</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Page &quot;</span> <span class="o">+</span> <span class="n">page</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/computers&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">queryParam</span><span class="o">(</span><span class="s">&quot;&quot;&quot;p&quot;&quot;&quot;</span><span class="o">,</span> <span class="n">page</span><span class="o">))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">browse</span> <span class="k">=</span> <span class="n">repeat</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="s">&quot;i&quot;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">gotoPage</span><span class="o">(</span><span class="s">&quot;${i}&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Edit</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">head</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">(</span>
</span><span class='line'>    <span class="s">&quot;Cache-Control&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;&quot;&quot;max-age=0&quot;&quot;&quot;</span><span class="o">,</span>
</span><span class='line'>    <span class="s">&quot;Content-Type&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;&quot;&quot;application/x-www-form-urlencoded&quot;&quot;&quot;</span><span class="o">,</span>
</span><span class='line'>    <span class="s">&quot;Origin&quot;</span> <span class="o">-&gt;</span> <span class="s">&quot;&quot;&quot;http://localhost:9000&quot;&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">random</span> <span class="k">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="nc">Random</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Je reessai 2 fois en cas d&#39;erreur</span>
</span><span class='line'>  <span class="k">val</span> <span class="n">edit</span> <span class="k">=</span> <span class="n">tryMax</span><span class="o">(</span><span class="mi">2</span><span class="o">){</span>
</span><span class='line'>    <span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;New Computer&quot;</span><span class="o">)</span> <span class="o">.</span><span class="n">get</span><span class="o">(</span><span class="s">&quot;/computers/new&quot;</span><span class="o">))</span>
</span><span class='line'>    <span class="o">.</span><span class="n">pause</span><span class="o">(</span><span class="mi">11</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">exec</span><span class="o">(</span><span class="n">http</span><span class="o">(</span><span class="s">&quot;Post New Computer&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">post</span><span class="o">(</span><span class="s">&quot;/computers&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">headers</span><span class="o">(</span><span class="n">head</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">param</span><span class="o">(</span><span class="s">&quot;&quot;&quot;name&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;JCertif Mac&quot;&quot;&quot;</span><span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">nextInt</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
</span><span class='line'>      <span class="o">.</span><span class="n">param</span><span class="o">(</span><span class="s">&quot;&quot;&quot;introduced&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;2013-03-26&quot;&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">param</span><span class="o">(</span><span class="s">&quot;&quot;&quot;discontinued&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;&quot;&quot;&quot;</span><span class="o">)</span>
</span><span class='line'>      <span class="o">.</span><span class="n">param</span><span class="o">(</span><span class="s">&quot;&quot;&quot;company&quot;&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&quot;&quot;13&quot;&quot;&quot;</span><span class="o">));</span>
</span><span class='line'>  <span class="o">}.</span><span class="n">exitHereIfFailed</span> <span class="c1">// l&#39;utilisateur quitte le workflow du scenario</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">ComputersDatabase</span> <span class="k">extends</span> <span class="nc">Simulation</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">httpConf</span> <span class="k">=</span> <span class="n">httpConfig</span>
</span><span class='line'>    <span class="o">.</span><span class="n">baseURL</span><span class="o">(</span><span class="s">&quot;http://localhost:9000&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptHeader</span><span class="o">(</span><span class="s">&quot;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptCharsetHeader</span><span class="o">(</span><span class="s">&quot;ISO-8859-1,utf-8;q=0.7,*;q=0.3&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptEncodingHeader</span><span class="o">(</span><span class="s">&quot;gzip,deflate,sdch&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">acceptLanguageHeader</span><span class="o">(</span><span class="s">&quot;en-US,en;q=0.8&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">warmUp</span><span class="o">(</span><span class="s">&quot;http://localhost:9000&quot;</span><span class="o">)</span>
</span><span class='line'>    <span class="o">.</span><span class="n">userAgentHeader</span><span class="o">(</span><span class="s">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.43 Safari/537.31&quot;</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">val</span> <span class="n">admins</span> <span class="k">=</span> <span class="n">scenario</span><span class="o">(</span><span class="s">&quot;Admins&quot;</span><span class="o">).</span><span class="n">exec</span><span class="o">(</span><span class="nc">Search</span><span class="o">.</span><span class="n">search</span><span class="o">,</span> <span class="nc">Browse</span><span class="o">.</span><span class="n">browse</span><span class="o">,</span> <span class="nc">Edit</span><span class="o">.</span><span class="n">edit</span><span class="o">)</span>
</span><span class='line'>  <span class="k">val</span> <span class="n">users</span> <span class="k">=</span> <span class="n">scenario</span><span class="o">(</span><span class="s">&quot;Users&quot;</span><span class="o">).</span><span class="n">exec</span><span class="o">(</span><span class="nc">Search</span><span class="o">.</span><span class="n">search</span><span class="o">,</span> <span class="nc">Browse</span><span class="o">.</span><span class="n">browse</span><span class="o">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">setUp</span><span class="o">(</span><span class="n">users</span><span class="o">.</span><span class="n">users</span><span class="o">(</span><span class="mi">1000</span><span class="o">).</span><span class="n">ramp</span><span class="o">(</span><span class="mi">20</span><span class="o">).</span><span class="n">protocolConfig</span><span class="o">(</span><span class="n">httpConf</span><span class="o">),</span> <span class="n">admins</span><span class="o">.</span><span class="n">users</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="n">ramp</span><span class="o">(</span><span class="mi">20</span><span class="o">).</span><span class="n">protocolConfig</span><span class="o">(</span><span class="n">httpConf</span><span class="o">))</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Etape 8 : Lancement du script</h3>

<p>Il faut lancer l&#8217;exécutable &#8220;GATLING_HOME/bin/gatling.sh&#8221; (ou .bat) puis choisir le scénario à exécuter.</p>

<figure class='code'><figcaption><span>ComputersDatabase.scala</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="o">&gt;./</span><span class="n">gatling</span><span class="o">.</span><span class="n">sh</span>
</span><span class='line'><span class="nc">GATLING_HOME</span> <span class="n">is</span> <span class="n">set</span> <span class="n">to</span> <span class="o">.../</span><span class="n">gatling</span><span class="o">-</span><span class="n">charts</span><span class="o">-</span><span class="n">highcharts</span><span class="o">-</span><span class="mf">1.4</span><span class="o">.</span><span class="mi">6</span>
</span><span class='line'><span class="nc">Choose</span> <span class="n">a</span> <span class="n">simulation</span> <span class="n">number</span><span class="k">:</span>
</span><span class='line'>     <span class="err">[0]</span> <span class="kt">advanced.AdvancedExampleSimulation</span>
</span><span class='line'>     <span class="o">[</span><span class="err">1</span><span class="o">]</span> <span class="n">basic</span><span class="o">.</span><span class="nc">BasicExampleSimulation</span>
</span><span class='line'>     <span class="o">[</span><span class="err">2</span><span class="o">]</span> <span class="n">devoxx</span><span class="o">.</span><span class="n">labs</span><span class="o">.</span><span class="nc">ComputersDatabase</span>
</span></code></pre></td></tr></table></div></figure>


<p>Faire le choix 2.</p>

<p>Le rapport est généré dans le répertoire &#8220;GATLING_HOME/results&#8221;.</p>

<p><img class="center" src="http://blog.roddet.com/images/devoxx_gatling/report.jpg"></p>

<p>Exemple de rapport généré par Gatling : <a href="http://gatling-tool.org/sample/index.html">ici</a></p>

<h2>Intégration de Gatling avec d&#8217;autres outils</h2>

<p>Gatling s&#8217;intègre avec les outils :</p>

<ul>
<li>Maven (possibilité d&#8217;utiliser un archetype ou de gérer le script dans un projet scala)</li>
<li><a href="https://wiki.jenkins-ci.org/display/JENKINS/Gatling+Plugin">Un plugin pour Jenkins</a></li>
<li><a href="http://graphite.wikidot.com/">Graphite</a> pour un suivi en temps réel de l&#8217;exécution des tests.</li>
</ul>


<h2>Trucs &amp; Astuces pour des tests de performances avec Gatling</h2>

<ul>
<li>Si l&#8217;application est accessible en HTTPS, il faut désenregistrer le certificat dans le navigateur pour éviter que celui-ci ne pense que Gatling est en train de hacker le site.</li>
<li>Il faut rendre dynamique de la données pour éviter les caches, les optimisations de la JVM&#8230;</li>
<li>Donner le recorder aux utilisateurs finaux pour enregistrer plus finement les temps de pause. Il est important de ne pas supprimer les temps de pause car vos utilisateurs ne sont pas des robots et font des pauses entre les actions.</li>
</ul>


<h2>La roadmap à court terme</h2>

<p>Dans 1 mois, nous devrions avoir la 1ère milestone de la version 2 de Gatling.</p>

<p>Au menu :</p>

<ul>
<li>Support des Websockets</li>
<li>Support de JDBC</li>
<li>Possibilité de faire du clustering (surtout pour palier à l&#8217;éventuelle saturation de la carte réseau)</li>
<li>Possibilité de générer des ramps en escalier</li>
<li>Possibilité de choisir entre TCP &amp; UDP pour envoyer les informations à Graphite</li>
</ul>


<h2>Bilan</h2>

<p>Ce lab était très instructif. On peut regretter que nous ne soyons pas aller au bout du lab avec la visualisation du déroulement des tests avec Graphite.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Rossi Oddet</span></span>

      








  


<time datetime="2013-03-30T20:00:00-04:00" pubdate data-updated="true">Mar 30<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/devoxxfr2013/'>devoxxfr2013</a>, <a class='category' href='/blog/categories/gatling/'>gatling</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://roddet.github.com/2013/03/devoxxfr13-lab-gatling-crash-course/" data-via="rossioddet" data-counturl="http://roddet.github.com/2013/03/devoxxfr13-lab-gatling-crash-course/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2013/03/jugnantes-mars/" title="Previous Post: JUG Nantes : Traçabilité des architectures distribuées">&laquo; JUG Nantes : Traçabilité des architectures distribuées</a>
      
      
        <a class="basic-alignment right" href="/2013/04/devoxxfr13-university-frontend-live-coding/" title="Next Post: Devoxx France 2013 # University # Frontend Live Coding">Devoxx France 2013 # University # Frontend Live Coding &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Rossi Oddet</h1>
  <br/>
  <table>
  	<tr><td width="30%"><img src="/images/photo.jpeg" width="75"/></td>
  		<td>&nbsp;&nbsp;</td>
    <td width="70%"> <p>Développeur, Blogger et passionné par les communautés IT.</p></td></tr>
</table>
</section>
<a class="twitter-timeline" href="https://twitter.com/rossioddet" data-widget-id="314511007521312768">Tweets by @rossioddet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Rossi Oddet -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'blogroddet';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://roddet.github.com/2013/03/devoxxfr13-lab-gatling-crash-course/';
        var disqus_url = 'http://roddet.github.com/2013/03/devoxxfr13-lab-gatling-crash-course/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
